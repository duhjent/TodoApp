<mat-card class="card">
    <mat-card-header>
        <span *ngIf="!editing" class="todo-title">
            <mat-checkbox [(ngModel)]="itemClone.isDone" (ngModelChange)="updateItem()">
                <p [ngClass]="{'item-done':itemClone.isDone}">{{ itemClone.title }}</p>
            </mat-checkbox>
            <button mat-icon-button (click)="editing = !editing">
                <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button (click)="deleteItem()">
                <mat-icon>delete</mat-icon>
            </button>
        </span>
        <span *ngIf="editing">
            <mat-form-field class="edit-input">
                <input matInput [(ngModel)]="itemClone.title">
            </mat-form-field>
            <button mat-icon-button (click)="updateItem(); editing = !editing">
                <mat-icon>done</mat-icon>
            </button>
        </span>
    </mat-card-header>
    <mat-card-content>
        <ul>
            <li *ngFor="let tag of itemClone.tags">
                <span class="tag" (click)="addToFilter(tag)">{{tag}}</span>
                <button class="button" mat-icon-button (click)="deleteTag(tag)">
                    <mat-icon>close</mat-icon>
                </button>
            </li>
            <li>
                <mat-form-field>
                    <input matInput type="text" [formControl]="newTag" [matAutocomplete]="auto">
                    <mat-autocomplete #auto="matAutocomplete">
                        <mat-option *ngFor="let option of filteredHints | async" [value]="option">
                            {{option}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <button class="button" mat-icon-button (click)="addTag()">
                    <mat-icon>add</mat-icon>
                </button>
            </li>
        </ul>
    </mat-card-content>
</mat-card>